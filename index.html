<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø¯Ù†ÙŠØ§ | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø© 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --glass: rgba(255, 255, 255, 0.85);
            --primary: #4f46e5; --accent: #db2777; --success: #10b981; --text: #1e293b;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; }
        body {
            background: linear-gradient(135deg, #eef2ff 0%, #fce7f3 100%);
            background-attachment: fixed; min-height: 100vh; display: flex; color: var(--text);
        }

        /* Sidebar */
        aside {
            width: 260px; background: var(--glass); backdrop-filter: blur(20px);
            border-left: 1px solid rgba(255,255,255,0.5); position: fixed; height: 100vh;
            right: 0; padding: 25px; z-index: 1000; display: flex; flex-direction: column;
            box-shadow: -5px 0 20px rgba(0,0,0,0.05);
        }
        .nav-link {
            width: 100%; padding: 12px 15px; border-radius: 15px; border: none; background: transparent;
            display: flex; align-items: center; gap: 12px; color: var(--text); font-weight: 700;
            cursor: pointer; margin-bottom: 8px; transition: 0.3s;
        }
        .nav-link.active, .nav-link:hover { background: var(--primary); color: white; transform: scale(1.02); }

        main { flex: 1; margin-right: 260px; padding: 30px; }

        /* Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ© */
        .card {
            background: var(--glass); backdrop-filter: blur(15px); border-radius: 20px;
            padding: 20px; border: 1px solid rgba(255,255,255,0.6); margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03);
        }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø± */
        .ticker { background: var(--accent); color: white; padding: 10px; border-radius: 12px; margin-bottom: 20px; display: none; font-weight: bold; text-align: center; }

        input, select { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #ddd; margin-top: 8px; }
        .btn-p { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 12px; font-weight: 800; cursor: pointer; width: 100%; margin-top: 10px; }
        
        .status-active { color: var(--success); font-weight: bold; }
        .status-pending { color: var(--accent); font-weight: bold; }

        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 1024px) { aside { width: 80px; } aside span { display: none; } main { margin-right: 80px; } }
    </style>
</head>
<body>

    <aside>
        <div style="text-align:center; margin-bottom:30px; color:var(--primary); font-size:1.5rem; font-weight:900;"><i class="fas fa-graduation-cap"></i><span> Ø§Ù„Ø¯Ù†ÙŠØ§</span></div>
        <button class="nav-link active" onclick="tab('h', this)"><i class="fas fa-home"></i> <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></button>
        <button class="nav-link" onclick="tab('c', this)"><i class="fas fa-book"></i> <span>Ø§Ù„Ù…ÙˆØ§Ø¯</span></button>
        <button class="nav-link" onclick="tab('t', this)"><i class="fas fa-chalkboard-teacher"></i> <span>Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</span></button>
        <button class="nav-link" onclick="tab('q', this)"><i class="fas fa-vial"></i> <span>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</span></button>
        <button class="nav-link" onclick="tab('a', this)" style="margin-top:auto; color:var(--accent);"><i class="fas fa-user-shield"></i> <span>Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</span></button>
    </aside>

    <main>
        <div id="ticker-box" class="ticker"></div>

        <div id="h" class="section active">
            <div id="login-box" class="card" style="max-width:400px; margin: 50px auto; text-align:center;">
                <h2>Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ğŸ“</h2>
                <input type="text" id="st-name" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
                <button class="btn-p" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
            </div>
            <div id="dash" style="display:none;">
                <div class="card" style="background: var(--primary); color:white;">
                    <h2 id="hi-user"></h2>
                    <p id="st-status" style="margin-top:10px; font-weight:bold;"></p>
                </div>
                <div class="grid">
                    <div class="card">
                        <h3>ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ AI</h3>
                        <div id="ai-chat" style="height:100px; overflow-y:auto; margin:10px 0; background:rgba(255,255,255,0.3); padding:10px; border-radius:10px;"></div>
                        <input type="text" id="ai-in" placeholder="Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡..." onkeypress="if(event.key==='Enter') askAI()">
                    </div>
                    <div class="card" style="text-align:center;">
                        <h3>ğŸ“Š ØªÙ‚ÙŠÙŠÙ…Ùƒ</h3>
                        <h1 id="my-grade" style="font-size:3rem; color:var(--primary);">--</h1>
                    </div>
                </div>
            </div>
        </div>

        <div id="c" class="section">
            <div id="lock" class="card" style="display:none; text-align:center;">
                <i class="fas fa-lock fa-3x" style="color:var(--accent);"></i>
                <h2>Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…ØºÙ„Ù‚</h2><p>Ø¨Ø§Ù†ØªØ¸Ø§Ø± ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø¯Ù…Ù†...</p>
            </div>
            <div id="content">
                <h1>Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ù…Ù„Ø®ØµØ§Øª ğŸ“‚</h1>
                <div id="crs-grid" class="grid" style="margin-top:20px;"></div>
            </div>
        </div>

        <div id="t" class="section">
            <h1>ÙƒØ§Ø¯Ø± Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† ğŸ‘¨â€ğŸ«</h1>
            <div id="tch-grid" class="grid" style="margin-top:20px;"></div>
        </div>

        <div id="q" class="section">
            <div class="card" style="max-width:600px; margin:auto;">
                <h2 id="q-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</h2>
                <div id="q-opts" style="margin-top:15px;"></div>
                <button id="q-next" class="btn-p" style="display:none;" onclick="nextQ()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
                <div id="q-res" style="display:none; text-align:center;">
                    <h2 id="score-txt"></h2>
                    <button class="btn-p" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø©</button>
                </div>
            </div>
        </div>

        <div id="a" class="section">
            <div id="a-auth" class="card" style="max-width:400px; margin:auto;">
                <h3>ğŸ” Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
                <input type="password" id="a-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                <button class="btn-p" onclick="auth()">Ø¯Ø®ÙˆÙ„</button>
            </div>
            <div id="a-panel" style="display:none;">
                <div class="grid">
                    <div class="card">
                        <h4>â• Ù…Ø§Ø¯Ø©/Ù…Ù„Ø®Øµ</h4>
                        <input id="ad-cn" placeholder="Ø§Ù„Ù…Ø§Ø¯Ø©">
                        <input id="ad-cl" placeholder="Ø±Ø§Ø¨Ø· PDF">
                        <button class="btn-p" onclick="add('crs')">Ø­ÙØ¸</button>
                    </div>
                    <div class="card">
                        <h4>â• Ù…Ø¹Ù„Ù…</h4>
                        <input id="ad-tn" placeholder="Ø§Ù„Ø§Ø³Ù…">
                        <input id="ad-tp" placeholder="ÙˆØ§ØªØ³Ø§Ø¨">
                        <button class="btn-p" onclick="add('tch')">Ø­ÙØ¸</button>
                    </div>
                    <div class="card">
                        <h4>ğŸ“¢ Ø¥Ø¹Ù„Ø§Ù†</h4>
                        <input id="ad-news" placeholder="Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†">
                        <button class="btn-p" style="background:var(--accent);" onclick="setNews()">Ù†Ø´Ø±</button>
                    </div>
                </div>
                <div class="card">
                    <h4>ğŸ‘¥ Ø§Ù„Ø·Ù„Ø§Ø¨</h4>
                    <table style="width:100%; margin-top:10px; text-align:right;">
                        <tbody id="st-table"></tbody>
                    </table>
                </div>
                <div class="card" id="del-box"></div>
            </div>
        </div>
    </main>

    <script>
        let cur = "", qIdx = 0, score = 0, sel = null;

        function tab(id, b) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById(id).classList.add('active'); b.classList.add('active');
            render();
        }

        function login() {
            let n = document.getElementById('st-name').value; if(!n) return;
            cur = n; let sts = JSON.parse(localStorage.getItem('sts_v2') || '{}');
            if(!sts[n]) sts[n] = { status: 'pending', note: '', grade: '--' };
            localStorage.setItem('sts_v2', JSON.stringify(sts));
            document.getElementById('login-box').style.display='none';
            document.getElementById('dash').style.display='block';
            document.getElementById('hi-user').innerText = "Ø£Ù‡Ù„Ø§Ù‹ " + n; render();
        }

        function auth() { if(document.getElementById('a-pass').value === "AAAA1234") { document.getElementById('a-auth').style.display='none'; document.getElementById('a-panel').style.display='block'; render(); } }

        function add(t) {
            let db = JSON.parse(localStorage.getItem(t) || '[]');
            if(t==='crs') db.push({id:Date.now(), n:document.getElementById('ad-cn').value, l:document.getElementById('ad-cl').value});
            if(t==='tch') db.push({id:Date.now(), n:document.getElementById('ad-tn').value, p:document.getElementById('ad-tp').value});
            localStorage.setItem(t, JSON.stringify(db)); render(); alert("ØªÙ…!");
        }

        function setNews() { localStorage.setItem('news', document.getElementById('ad-news').value); render(); }

        function render() {
            const sts = JSON.parse(localStorage.getItem('sts_v2') || '{}');
            const crs = JSON.parse(localStorage.getItem('crs') || '[]');
            const tch = JSON.parse(localStorage.getItem('tch') || '[]');
            const news = localStorage.getItem('news');

            if(news) { document.getElementById('ticker-box').innerText = "ğŸ“¢ " + news; document.getElementById('ticker-box').style.display='block'; }
            if(cur) {
                let me = sts[cur];
                document.getElementById('st-status').innerText = me.status === 'pending' ? "Ø­Ø³Ø§Ø¨Ùƒ Ù…Ø¹Ù„Ù‚..." : "Ù†Ø´Ø· | " + me.note;
                document.getElementById('my-grade').innerText = me.grade;
                document.getElementById('lock').style.display = me.status === 'pending' ? 'block' : 'none';
                document.getElementById('content').style.display = me.status === 'pending' ? 'none' : 'block';
            }

            document.getElementById('crs-grid').innerHTML = crs.map(c => `<div class="card"><h3>${c.n}</h3><a href="${c.l}" target="_blank" class="btn-p" style="text-decoration:none; display:block; text-align:center;">ØªØ­Ù…ÙŠÙ„ PDF</a></div>`).join('');
            document.getElementById('tch-grid').innerHTML = tch.map(t => `<div class="card" style="text-align:center;"><h4>${t.n}</h4><a href="https://wa.me/${t.p}" class="btn-p" style="background:#075e54; text-decoration:none; display:block;">ÙˆØ§ØªØ³Ø§Ø¨</a></div>`).join('');

            let html = "";
            for(let n in sts) {
                html += `<tr><td>${n}</td><td class="status-${sts[n].status}">${sts[n].status}</td><td><button onclick="editSt('${n}')">ØªØ¹Ø¯ÙŠÙ„</button></td></tr>`;
            }
            document.getElementById('st-table').innerHTML = html;
        }

        function editSt(n) {
            let sts = JSON.parse(localStorage.getItem('sts_v2'));
            let s = confirm("ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ") ? 'active' : 'pending';
            let nt = prompt("Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø­ØµØ©:", sts[n].note);
            let gr = prompt("Ø§Ù„Ø¹Ù„Ø§Ù…Ø©:", sts[n].grade);
            sts[n] = { status: s, note: nt, grade: gr };
            localStorage.setItem('sts_v2', JSON.stringify(sts)); render();
        }

        function askAI() {
            let i = document.getElementById('ai-in').value;
            let res = "Ø±ÙƒØ² Ø¹Ù„Ù‰ Ù…Ù„Ø®ØµØ§ØªÙƒ ÙˆØ³ØªÙ†Ø¬Ø­!";
            if(i.includes("Ù…ÙˆØ¹Ø¯")) res = "Ù…ÙˆØ¹Ø¯Ùƒ Ù…ÙƒØªÙˆØ¨ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø¨Ø¬Ø§Ù†Ø¨ Ø­Ø§Ù„ØªÙƒ.";
            document.getElementById('ai-chat').innerHTML += `<div><b>Ø£Ù†Øª:</b> ${i}</div><div><b>AI:</b> ${res}</div>`;
            document.getElementById('ai-in').value = "";
        }
        
        window.onload = render;
    </script>
</body>
</html>
