<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ø¯Ù†ÙŠØ§ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary: #4f46e5; --bg: #f8fafc; --sidebar: #ffffff; --card: #ffffff; --text: #1f2937; --wa: #25d366; }
        body.theme-dark { --bg: #0f172a; --sidebar: #1e293b; --card: #1e293b; --text: #f8fafb; --primary: #818cf8; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--bg); color: var(--text); transition: 0.3s; }
        .app-wrapper { display: flex; min-height: 100vh; }
        
        /* Sidebar */
        aside { width: 280px; background: var(--sidebar); border-left: 1px solid rgba(0,0,0,0.05); padding: 25px; position: fixed; height: 100vh; right: 0; z-index: 100; }
        .logo { font-size: 1.6rem; font-weight: 900; color: var(--primary); margin-bottom: 30px; text-align: center; }
        .nav-link { padding: 12px 15px; border-radius: 12px; margin-bottom: 5px; cursor: pointer; display: flex; align-items: center; gap: 12px; font-weight: 600; color: var(--text); border: none; background: transparent; width: 100%; text-align: right; }
        .nav-link:hover, .nav-link.active { background: var(--primary); color: white; }

        main { flex: 1; margin-right: 280px; padding: 30px; }
        .card { background: var(--card); border-radius: 20px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.02); border: 1px solid rgba(0,0,0,0.05); margin-bottom: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        
        input, select { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; margin-top: 8px; background: var(--card); color: var(--text); }
        .btn-p { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 700; width: 100%; margin-top: 10px; }
        .btn-wa { background: var(--wa); color: white; text-decoration: none; display: flex; align-items: center; justify-content: center; gap: 8px; padding: 10px; border-radius: 10px; font-weight: bold; margin-top: 10px; }
        
        .section { display: none; }
        .active { display: block; }
        .badge { background: var(--primary); color: white; padding: 4px 10px; border-radius: 15px; font-size: 0.8rem; }
    </style>
</head>
<body id="bRoot">

    <div class="app-wrapper">
        <aside>
            <div class="logo">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø¯Ù†ÙŠØ§</div>
            <button class="nav-link active" onclick="showTab('tabDash', this)"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <button class="nav-link" onclick="showTab('tabCourses', this)"><i class="fas fa-book"></i> Ø§Ù„Ø¯ÙˆØ±Ø§Øª</button>
            <button class="nav-link" onclick="showTab('tabTeachers', this)"><i class="fas fa-chalkboard-teacher"></i> Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</button>
            <button class="nav-link" onclick="showTab('tabQuiz', this)"><i class="fas fa-vial"></i> Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>
            <button class="nav-link" onclick="showTab('tabAdmin', this)" style="margin-top: 20px; color: #ef4444;"><i class="fas fa-lock"></i> Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
        </aside>

        <main>
            <div id="gate" class="card" style="max-width: 400px; margin: 100px auto; text-align: center;">
                <h2>Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨</h2>
                <input type="text" id="stNameIn" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
                <button class="btn-p" onclick="stLogin()">Ø¯Ø®ÙˆÙ„</button>
            </div>

            <div id="content" style="display: none;">
                <div id="tabDash" class="section active">
                    <div class="card" style="background: var(--primary); color: white;">
                        <h1 id="hello"></h1>
                        <p id="stPrivateNote" style="margin-top: 10px; font-weight: bold;"></p>
                    </div>
                    <div class="card">
                        <h3>ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ AI</h3>
                        <div id="aiOut" style="height: 60px; font-weight: bold; margin: 10px 0;">Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ..</div>
                        <input type="text" id="aiIn" placeholder="Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡..">
                        <button class="btn-p" onclick="askAI()">Ø¥Ø±Ø³Ø§Ù„</button>
                    </div>
                </div>

                <div id="tabCourses" class="section">
                    <h2>ğŸ“š Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
                    <div id="cList" class="grid" style="margin-top: 20px;"></div>
                </div>

                <div id="tabTeachers" class="section">
                    <h2>ğŸ‘¨â€ğŸ« ÙƒØ§Ø¯Ø± Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</h2>
                    <div id="tList" class="grid" style="margin-top: 20px;"></div>
                </div>

                <div id="tabQuiz" class="section">
                    <div class="card">
                        <h2>ğŸ“ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h2>
                        <div id="qBox">
                            <h3 id="qText">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø©</h3>
                            <div id="qOpts"></div>
                            <button class="btn-p" id="nextBtn" style="display:none" onclick="submitQ()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
                        </div>
                        <div id="rBox" style="display:none; text-align:center;">
                            <h2 id="finalS"></h2>
                            <button class="btn-p" onclick="resetQ()">Ø¥Ø¹Ø§Ø¯Ø©</button>
                        </div>
                    </div>
                </div>

                <div id="tabAdmin" class="section">
                    <div id="adLogin" class="card" style="max-width: 400px; margin: auto;">
                        <h3>ğŸ” Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù†</h3>
                        <input type="password" id="adPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
                        <button class="btn-p" onclick="checkAd()">Ø¯Ø®ÙˆÙ„</button>
                    </div>
                    <div id="adPanel" style="display: none;">
                        <div class="grid">
                            <div class="card">
                                <h4>â• Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ±Ø©</h4>
                                <input id="adCN" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø©">
                                <input id="adCT" placeholder="Ø§Ø³Ù… Ø§Ù„Ø£Ø³ØªØ§Ø°">
                                <input id="adCP" placeholder="Ø§Ù„Ø³Ø¹Ø±">
                                <button class="btn-p" onclick="add('course')">Ø­ÙØ¸</button>
                            </div>
                            <div class="card">
                                <h4>â• Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„Ù…</h4>
                                <input id="adTN" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…">
                                <input id="adTS" placeholder="Ø§Ù„Ù…Ø§Ø¯Ø©">
                                <input id="adTP" placeholder="Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ù„Ù…">
                                <button class="btn-p" onclick="add('teacher')">Ø­ÙØ¸</button>
                            </div>
                        </div>
                        <div class="card">
                            <h4>â• Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„</h4>
                            <input id="newQ" placeholder="Ø§Ù„Ø³Ø¤Ø§Ù„">
                            <input id="o1" placeholder="Ø®ÙŠØ§Ø± 1"> <input id="o2" placeholder="Ø®ÙŠØ§Ø± 2">
                            <select id="corr"><option value="0">Ø®ÙŠØ§Ø± 1 ØµØ­</option><option value="1">Ø®ÙŠØ§Ø± 2 ØµØ­</option></select>
                            <button class="btn-p" onclick="add('quiz')">Ø­ÙØ¸ Ø§Ù„Ø³Ø¤Ø§Ù„</button>
                        </div>
                        <div class="card">
                            <h4>ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ø­ØµØµ</h4>
                            <div id="adStList"></div>
                            <div id="editStBox" style="display:none; margin-top:10px; background:#fefce8; padding:10px; border-radius:10px;">
                                <h5>ØªØ®ØµÙŠØµ Ù„Ù€: <span id="targetN"></span></h5>
                                <input id="pSched" placeholder="Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø­ØµØ© Ø§Ù„Ø®Ø§Øµ">
                                <button class="btn-p" onclick="saveStP()">Ø­ÙØ¸ Ø§Ù„Ù…ÙˆØ¹Ø¯</button>
                            </div>
                        </div>
                        <div class="card">
                            <h4>ğŸ“ Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø£Ø¯Ù…Ù† (Ù„Ù„Ø¯ÙØ¹)</h4>
                            <input id="adPhone" placeholder="9627xxxxxxxx">
                            <button class="btn-p" onclick="localStorage.setItem('adPh', document.getElementById('adPhone').value); alert('ØªÙ…'); render();">Ø­ÙØ¸ Ø§Ù„Ø±Ù‚Ù…</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let curU = "", curQ = 0, score = 0, sel = null, editT = "";
        function showTab(id, b) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active'); b.classList.add('active');
        }
        function stLogin() {
            let n = document.getElementById('stNameIn').value; if(!n) return; curU = n;
            let sts = JSON.parse(localStorage.getItem('sts') || '[]'); if(!sts.includes(n)) sts.push(n);
            localStorage.setItem('sts', JSON.stringify(sts));
            document.getElementById('gate').style.display='none'; document.getElementById('content').style.display='block';
            document.getElementById('hello').innerText = `Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ ${n} âœ¨`; render();
        }
        function add(type) {
            let data = JSON.parse(localStorage.getItem(type) || '[]');
            if(type==='course') data.push({id:Date.now(), n:document.getElementById('adCN').value, t:document.getElementById('adCT').value, p:document.getElementById('adCP').value});
            else if(type==='teacher') data.push({id:Date.now(), n:document.getElementById('adTN').value, s:document.getElementById('adTS').value, ph:document.getElementById('adTP').value});
            else if(type==='quiz') data.push({t:document.getElementById('newQ').value, o:[document.getElementById('o1').value, document.getElementById('o2').value], c:document.getElementById('corr').value});
            localStorage.setItem(type, JSON.stringify(data)); render(); alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©");
        }
        function render() {
            const adPh = localStorage.getItem('adPh') || "";
            const courses = JSON.parse(localStorage.getItem('course') || '[]');
            const teachers = JSON.parse(localStorage.getItem('teacher') || '[]');
            const sts = JSON.parse(localStorage.getItem('sts') || '[]');
            const qs = JSON.parse(localStorage.getItem('quiz') || '[]');

            document.getElementById('cList').innerHTML = courses.map(c => `<div class="card"><h3>${c.n}</h3><p>Ø§Ù„Ø£Ø³ØªØ§Ø°: ${c.t}</p><b style="color:var(--primary)">${c.p}</b><a href="https://wa.me/${adPh}?text=Ø£Ø±ÙŠØ¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨${c.n}" class="btn-wa" target="_blank">Ø³Ø¬Ù„ Ø§Ù„Ø¢Ù† (Ø¯ÙØ¹)</a><button onclick="del('course', ${c.id})" style="color:red; background:none; border:none; margin-top:5px; cursor:pointer">Ø­Ø°Ù</button></div>`).join('');
            document.getElementById('tList').innerHTML = teachers.map(t => `<div class="card" style="text-align:center"><h3>${t.n}</h3><span class="badge">${t.s}</span><a href="https://wa.me/${t.ph}" class="btn-wa" target="_blank" style="background:#075e54">ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ù„Ù…</a><button onclick="del('teacher', ${t.id})" style="color:red; background:none; border:none; margin-top:5px; cursor:pointer">Ø­Ø°Ù</button></div>`).join('');
            document.getElementById('adStList').innerHTML = sts.map(s => `<button onclick="openE('${s}')" style="padding:5px; margin:2px;">${s}</button>`).join('');
            
            if(curU) { document.getElementById('stPrivateNote').innerText = localStorage.getItem('p_'+curU) ? "ğŸ“Œ Ù…ÙˆØ¹Ø¯Ùƒ: " + localStorage.getItem('p_'+curU) : ""; }
            if(qs.length > 0 && curQ < qs.length) {
                const q = qs[curQ]; document.getElementById('qText').innerText = q.t;
                document.getElementById('qOpts').innerHTML = q.o.map((o,i) => `<div onclick="sel=${i}; this.style.color='blue'" style="padding:10px; cursor:pointer; background:#eee; margin-top:5px; border-radius:5px;">${o}</div>`).join('');
                document.getElementById('nextBtn').style.display='block';
            }
        }
        function del(type, id) {
            let data = JSON.parse(localStorage.getItem(type));
            localStorage.setItem(type, JSON.stringify(data.filter(x => x.id !== id))); render();
        }
        function openE(n) { editT = n; document.getElementById('editStBox').style.display='block'; document.getElementById('targetN').innerText=n; }
        function saveStP() { localStorage.setItem('p_'+editT, document.getElementById('pSched').value); alert("ØªÙ… Ø§Ù„Ø­ÙØ¸"); render(); }
        function askAI() { document.getElementById('aiOut').innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙÙƒÙŠØ±..."; setTimeout(() => { document.getElementById('aiOut').innerText = "AI: Ù†ØµÙŠØ­ØªÙŠ Ù„Ùƒ Ù‡ÙŠ ØªÙ†Ø¸ÙŠÙ… ÙˆÙ‚ØªÙƒ Ø¬ÙŠØ¯Ø§Ù‹ ÙˆØ§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª!"; }, 600); }
        function checkAd() { if(document.getElementById('adPass').value === "AAAA1234") { document.getElementById('adLogin').style.display='none'; document.getElementById('adPanel').style.display='block'; render(); } }
        function submitQ() {
            const qs = JSON.parse(localStorage.getItem('quiz') || '[]');
            if(sel == qs[curQ].c) score++; curQ++; sel = null;
            if(curQ < qs.length) render();
            else { document.getElementById('qBox').style.display='none'; document.getElementById('rBox').style.display='block'; document.getElementById('finalS').innerText=`Ù†ØªÙŠØ¬ØªÙƒ: ${score}/${qs.length}`; }
        }
        function resetQ() { curQ=0; score=0; document.getElementById('qBox').style.display='block'; document.getElementById('rBox').style.display='none'; render(); }
        window.onload = render;
    </script>
</body>
</html>
